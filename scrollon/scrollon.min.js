"use strict";var _createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Scrollon=function(){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,l);try{if("string"!=typeof t)throw new Error("First argument is not `string`.");t||(t=".scon_item"),this.winH=window.innerHeight,this.winW=screen.width,this.itemsDOM=document.querySelectorAll(t),this.itemY=[],this.endCount=0,this.timeoutId=0;var n=e.addClassName,i=void 0===n?"scon":n,o=e.offset,s=void 0===o?0:o,a=e.interval,r=void 0===a?50:a;this.options={addClassName:i,offset:s,interval:r},this._SetItemsY(),this._DoScrollOn(),this._bindEvents()}catch(t){console.log(t.name+": "+t.message)}}return _createClass(l,[{key:"_LogTest",value:function(){console.log(this.itemsDOM),console.log(this.options)}},{key:"_SetItemsY",value:function(){this.itemY=[];for(var t=this.itemsDOM.length,e=0;e<t;e++){var n=this.itemsDOM[e].getBoundingClientRect();this.itemY.push(n.top+window.pageYOffset)}}},{key:"_DoScrollOn",value:function(){var n=this;this.timeoutId||(this.timeoutId=setTimeout(function(){n.timeoutId=0;for(var t=window.pageYOffset+n.winH-n.options.offset,e=n.endCount;e<n.itemY.length;e++)n.itemY[e]<t&&(n.itemsDOM[e].classList.add(n.options.addClassName),n.endCount++)},this.options.interval))}},{key:"_bindEvents",value:function(){var t=this;window.addEventListener?(window.addEventListener("load",function(){t._SetItemsY()}),window.addEventListener("scroll",function(){t._DoScrollOn()})):(window.attachEvent("onload",function(){t._SetItemsY()}),window.attachEvent("onscroll",function(){t._DoScrollOn()}))}}]),l}();